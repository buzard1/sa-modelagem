<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gerenciar Usuários</title>
  <link rel="stylesheet" href="css/sidebar.css" />
  <link rel="stylesheet" href="css/usuarios.css" />
  <link rel="icon" href="img/logo.png" type="image/png">
</head>
<body>
    <!-- Sidebar fixa -->
    <nav class="sidebar">
      <div class="logo">
        <img src="img/logo.png" alt="Logo do sistema">
      </div>
      <ul class="menu">
        <li><a href="dashboard.html">🏠 <span>Dashboard</span></a></li>
        <li><a href="cadastro-cliente.html">📋 <span>Cadastro Cliente</span></a></li>
        <li><a href="cadastro-pedido.html">🛠️ <span>Cadastro de <br>Ordem de Serviço</span></a></li>
        <li><a href="pedidos.html">💼 <span>Ordem de serviço</span></a></li>
        <li><a href="relatorio.html">📊 <span>Relatórios</span></a></li>
        <li><a href="estoque.html">📦 <span>Estoque</span></a></li>
        <li><a href="usuarios.html">👥 <span>Usuários</span></a></li>
        <li><a href="fornecedor.html">🔗 <span>Fornecedores</span></a></li>
        <li><a href="suporte.html">🆘 <span>Suporte</span></a></li>
        <li><a href="login.html">🚪 <span>Sair</span></a></li>
      </ul>
    </nav>
  <div class="usuarios-container">
    <h1>👥 Gerenciar Usuários</h1>

    <div class="add-usuario">
      <input type="text" placeholder="Nome do usuário" />
      <input type="email" placeholder="Email" />
      <select>
        <option value="admin">Administrador</option>
        <option value="funcionario">Funcionário</option>
        <option value="cliente">Cliente</option>
      </select>
      <button>➕ Adicionar</button>
    </div>

    <table class="usuarios-table">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Tipo</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Marina</td>
          <td>Marina@email.com</td>
          <td>Atendente</td>
          <td>
            <button class="editar">✏️</button>
            <button class="excluir">🗑️</button>
          </td>
        </tr>
        <tr>
          <td>Sr inacio</td>
          <td>inacio@email.com</td>
          <td>Administrador</td>
          <td>
            <button class="editar">✏️</button>
            <button class="excluir">🗑️</button>
          </td>
        </tr>
        <tr>
          <td>pedro</td>
          <td>pedro@email.com</td>
          <td>Cliente</td>
          <td>
            <button class="editar">✏️</button>
            <button class="excluir">🗑️</button>
          </td>
        </tr>
      </tbody>
    </table>

    <a href="dashboard.html" class="btn-voltar">🔙 Voltar</a>
  </div>

  <script>
    document.querySelectorAll('.editar').forEach(botao => {
      botao.addEventListener('click', () => {
        const linha = botao.closest('tr');
        const colunas = linha.querySelectorAll('td');

        if (botao.textContent === '✏️') {
          // Substituir texto por inputs
          const nome = colunas[0].textContent;
          const email = colunas[1].textContent;
          const tipo = colunas[2].textContent.toLowerCase();

          colunas[0].innerHTML = `<input type="text" value="${nome}" />`;
          colunas[1].innerHTML = `<input type="email" value="${email}" />`;
          colunas[2].innerHTML = `
            <select>
              <option value="admin" ${tipo === 'administrador' ? 'selected' : ''}>Administrador</option>
              <option value="Atendente" ${tipo === 'Atendente' ? 'selected' : ''}>Atendente</option>
              <option value="Técnico" ${tipo === 'Técnico' ? 'selected' : ''}>Técnico</option>
            </select>
          `;
          botao.textContent = '💾'; // mudar para botão de salvar
        } else {
          // Salvar os valores e voltar ao modo texto
          const nome = colunas[0].querySelector('input').value;
          const email = colunas[1].querySelector('input').value;
          const tipo = colunas[2].querySelector('select').selectedOptions[0].textContent;

          colunas[0].textContent = nome;
          colunas[1].textContent = email;
          colunas[2].textContent = tipo;
          botao.textContent = '✏️';
        }
      });
    });
  </script>
  <!-- Script: ativa o menu da página atual -->
  <script>
    const links = document.querySelectorAll('.sidebar .menu li a');
    const currentPage = window.location.pathname.split('/').pop();

    links.forEach(link => {
      if (link.getAttribute('href') === currentPage) {
        link.classList.add('active');
      }
    });
    
  </script>
</body>
</html>
